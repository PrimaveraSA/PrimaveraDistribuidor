<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard de Herramientas</title>
  <link rel="icon" href="img/IconoLogo.png" type="image/png">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Iconos Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Librer√≠as espec√≠ficas -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/exceljs/dist/exceljs.min.js"></script>
  <script src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jszip/dist/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- CSS personalizado -->
  <link rel="stylesheet" href="css/style.css">
</head>

<body class="d-flex flex-column min-vh-100">

  <!-- üîµ NAVBAR -->
  <nav class="navbar navbar-dark bg-primary fixed-top shadow-sm">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <i class="bi bi-tools me-2"></i> Panel de Herramientas
      </a>
      <button id="toggleSidebarBtn" class="btn btn-sm btn-outline-light d-md-none" aria-label="Toggle Sidebar">
        <i class="bi bi-list"></i>
      </button>
    </div>
  </nav>

  <!-- üìã SIDEBAR -->
  <aside id="sidebar" class="sidebar">
    <div class="sidebar-header d-flex align-items-center">
      <div class="sidebar-icon-container">
        <img src="/img/IconoLogo.png" alt="Logo" class="sidebar-logo">
      </div>
      <span class="sidebar-title fw-semibold">Dashboard</span>
    </div>

    <ul class="nav flex-column nav-pills mt-3" role="menu">
      <li class="nav-item">
        <a href="#" class="nav-link active d-flex align-items-center" data-tool="inicio">
          <i class="bi bi-house-door"></i><span>Inicio</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link d-flex align-items-center" data-tool="inventarioPedidos">
          <i class="bi bi-box-seam"></i><span>Inventario y Pedidos</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="/tools/control-facturacion/control_facturacion.html" class="nav-link d-flex align-items-center" data-tool="controlFacturacion">
          <i class="bi bi-file-earmark-text"></i><span>Control de Registros</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="/tools/conversor-a-excel/conversor.html" class="nav-link d-flex align-items-center" data-tool="conversorAExcel">
          <i class="bi bi-file-earmark-arrow-up"></i><span>Conversor a Excel</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="/tools/gestion-precios/gestion_precios.html" class="nav-link d-flex align-items-center" data-tool="gestionPrecios">
          <i class="bi bi-currency-dollar"></i><span>Gesti√≥n de Precios</span>
        </a>
      </li>
    </ul>
  </aside>

  <!-- üß≠ CONTENIDO PRINCIPAL -->
  <main id="main-content" class="main-content flex-grow-1">
    <div class="container-fluid pt-3">

      <div id="inicio-content">
        <h3 class="fw-bold mb-2">¬°Bienvenido üëã!</h3>
        <p class="text-muted fs-6 mb-0">Selecciona una herramienta en el panel lateral para comenzar.</p>
      </div>

      <div id="tool-title-container"></div>

      <div id="iframe-container_principal" class="mt-3 card p-3 shadow-sm">

        <!-- Encabezado -->
        <div class="text-center py-4">
          <i class="bi bi-gear-wide-connected display-4 text-primary mb-2"></i>
          <h4 class="fw-semibold mb-1">Centro de Herramientas</h4>
          <p class="text-muted mb-0">
            Utilidades complementarias para apoyar la gesti√≥n y mantenimiento de la plataforma principal.
          </p>
        </div>

        <hr class="my-4">

        <!-- Tarjetas principales -->
        <div class="row g-4 mb-4">
          <div class="col-md-4">
            <div class="card border-0 shadow-sm h-100 p-3 text-center">
              <i class="bi bi-wrench-adjustable-circle display-5 text-primary mb-3"></i>
              <h5 class="fw-semibold">Herramientas Disponibles</h5>
              <p class="text-muted small mb-0">
                Accede a m√≥dulos como gesti√≥n de precios, conversi√≥n de documentos y control de registros.
              </p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card border-0 shadow-sm h-100 p-3 text-center">
              <i class="bi bi-journal-text display-5 text-success mb-3"></i>
              <h5 class="fw-semibold">Documentaci√≥n</h5>
              <p class="text-muted small mb-0">
                Encuentra gu√≠as r√°pidas, ejemplos y descripciones de uso para cada herramienta.
              </p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card border-0 shadow-sm h-100 p-3 text-center">
              <i class="bi bi-headset display-5 text-danger mb-3"></i>
              <h5 class="fw-semibold">Soporte T√©cnico</h5>
              <p class="text-muted small mb-0">
                Contacta con el √°rea t√©cnica o reporta incidencias directamente desde la plataforma.
              </p>
            </div>
          </div>
        </div>

        <!-- Novedades y estado -->
        <div class="row g-4 align-items-stretch">
          <div class="col-md-6">
            <div class="card border-0 shadow-sm h-100 p-3">
              <div class="d-flex align-items-center mb-3">
                <i class="bi bi-megaphone-fill text-warning fs-3 me-2"></i>
                <h6 class="fw-semibold mb-0">Novedades Recientes</h6>
              </div>
              <ul class="list-unstyled mb-0 small text-muted">
                <li class="mb-2"><i class="bi bi-dot text-primary"></i> Optimizaci√≥n del m√≥dulo PDF ‚Üí Excel.</li>
                <li class="mb-2"><i class="bi bi-dot text-primary"></i> Nueva interfaz de gesti√≥n de precios.</li>
                <li><i class="bi bi-dot text-primary"></i> Mejoras en compatibilidad m√≥vil.</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6">
            <div class="card border-0 shadow-sm h-100 p-3">
              <div class="d-flex align-items-center mb-3">
                <i class="bi bi-cloud-check-fill text-info fs-3 me-2"></i>
                <h6 class="fw-semibold mb-0">Estado del Sistema</h6>
              </div>
              <ul class="list-unstyled mb-0 small text-muted">
                <li class="mb-2"><i class="bi bi-check-circle text-success me-1"></i> Servidores operativos y sincronizados.</li>
                <li class="mb-2"><i class="bi bi-check-circle text-success me-1"></i> Todas las herramientas activas.</li>
                <li><i class="bi bi-clock-history text-secondary me-1"></i> √öltima actualizaci√≥n: <strong>17/10/2025</strong></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Bloque soporte r√°pido -->
        <div class="mt-4 p-4 bg-light rounded-3 border text-center">
          <i class="bi bi-life-preserver text-primary fs-2 mb-2"></i>
          <p class="mb-1 fw-semibold">¬øNecesitas ayuda r√°pida?</p>
          <p class="text-muted small mb-2">
            Comun√≠cate con soporte t√©cnico o revisa la gu√≠a de resoluci√≥n de errores comunes.
          </p>
          <span class="badge bg-primary-subtle text-primary rounded-pill px-3 py-2">
            soporte@primaveraperu.pe
          </span>
        </div>

        <hr class="my-4">

        <!-- Pie -->
        <div class="text-center text-muted small">
          <i class="bi bi-info-circle me-1"></i>
          Este panel forma parte de las herramientas internas de <strong>Primavera Distribuidores S.A.C.</strong>.<br>
          Usa el men√∫ lateral para acceder a cada m√≥dulo seg√∫n tus necesidades.
        </div>
      </div>

      <div id="iframe-container" class="mt-3 card p-3 shadow-sm">
        <!-- Aqu√≠ se cargar√° la herramienta seleccionada -->
      </div>
    </div>
  </main>

  <!-- ‚öôÔ∏è FOOTER -->
  <footer class="main-footer text-sm bg-light text-muted d-flex justify-content-between align-items-center flex-wrap">
    <div class="footer-left">
      &copy; 2025 <a href="http://primaveraperu.pe">Primavera Distribuidores S.A.C.</a> Todos los derechos reservados.
    </div>
    <div class="footer-right">
      By. Primavera ‚Äî Versi√≥n 0.50
    </div>
  </footer>

  <!-- Modal conexi√≥n -->
  <div id="conexionModal">
    <div class="modal-content">
      <h3 id="modalTitulo">‚ö† Conexi√≥n Fallida</h3>
      <p id="modalMensaje">Tu conexi√≥n a internet se ha perdido.</p>
      <button id="recargarBtn">Recargar</button>
    </div>
  </div>

  <!-- Toast conexi√≥n -->
  <div id="toastConexion" class="toast-connection success" style="display:none;">
    <div class="toast-icon">‚úÖ</div>
    <div class="toast-message">Conexi√≥n restablecida</div>
    <button class="toast-close">&times;</button>
  </div>

  <!-- Modal global conversor -->
  <div class="modal fade conv_modal" id="conv_confirmModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content conv_modal-content border-0 shadow-lg">
        <div class="modal-header bg-success text-white conv_modal-header">
          <h5 class="modal-title conv_modal-title">
            <i class="bi bi-check2-circle me-2"></i> Confirmar conversi√≥n
          </h5>
        </div>
        <div class="modal-body conv_modal-body">
          <p class="mb-0">¬øDeseas convertir este archivo PDF a formato Excel (.xlsx)?</p>
        </div>
        <div class="modal-footer conv_modal-footer">
          <button id="conv_confirmYes" type="button" class="btn btn-success conv_btn-yes">
            <i class="bi bi-check-circle me-1"></i> S√≠, convertir
          </button>
          <button id="conv_confirmNo" type="button" class="btn btn-outline-secondary conv_btn-no" data-bs-dismiss="modal">
            <i class="bi bi-x-circle me-1"></i> Cancelar
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/main.js"></script>
  <script src="/tools/gestion-precios/gestion_precios.js"></script>
  <script src="/tools/conversor-a-excel/conversor.js"></script>
  <script type="module" src="/tools/control-facturacion/control_facturacion.js"></script>
</body>
</html>