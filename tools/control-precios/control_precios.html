<link rel="stylesheet" href="tools/gestion-precios/gestionPrecios.css">

<div class="container-fluid mt-4 px-4">

  <div class="card border-0 shadow-sm mb-4">
    <div class="card-body">

      <div class="row g-3 mb-4">
        <div class="col-md-6">
          <div class="card border-0 shadow-sm h-100">
            <div class="card-body text-center d-flex flex-column justify-content-center">
              <h6 class="fw-bold text-primary mb-3">
                <i class="bi bi-file-earmark-spreadsheet me-1"></i> Precios de Referencia
              </h6>
              <input type="file" id="priceFile" accept=".xlsx,.xls" class="form-control text-center mb-2">
              
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card border-0 shadow-sm h-100">
            <div class="card-body text-center d-flex flex-column justify-content-center">
              <h6 class="fw-bold text-primary mb-3">
                <i class="bi bi-box-seam me-1"></i> Maestro de Productos
              </h6>
              <input type="file" id="masterFile" accept=".xlsx,.xls" class="form-control text-center mb-2" disabled>
              
            </div>
          </div>
        </div>
      </div>


      <div class="d-flex justify-content-end gap-2">
        <button id="processBtn" class="btn btn-primary" disabled>
          <i class="bi bi-gear me-1"></i> Iniciar Comparación
        </button>
        <button id="descargarBtn" class="btn btn-success" disabled>
          <i class="bi bi-file-earmark-excel me-1"></i> Descargar Resultados
        </button>
        <button id="resetBtn" class="btn btn-outline-danger">
          <i class="bi bi-x-circle me-1"></i> Limpiar
        </button>
      </div>

      <div id="log" class="mt-3 small text-muted"></div>
      <div id="priceHeaders" class="small d-flex justify-content-end align-items-center gap-2 flex-wrap"></div>
      <div id="pricePreview" class="mt-1 mb-5"></div>
      <div id="masterHeaders" class="small d-flex justify-content-end align-items-center gap-2 flex-wrap"></div>
      <div id="masterPreview" class="mt-1"></div>

      <hr class="my-4">

      <div id="resultadoComparacion" style="display:none;">
      <h6 class="fw-semibold mb-2">Productos Coincidentes Confirmados</h6>
      <div class="table-responsive">
        <table id="tablaBuenas" class="table table-striped table-bordered align-middle">
          <thead class="table-dark">
            <tr>
              <th>Producto Referencia</th>
              <th>Producto Maestro</th>
              <th>Precio Ref.</th>
              <th>Precio Actual</th>
              <th>Similitud</th>
              <th>Acción</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <h6 class="fw-semibold mt-4 mb-2">Productos Pendientes</h6>
      <div class="table-responsive">
        <table id="tablaPendientes" class="table table-striped table-bordered align-middle">
          <thead class="table-dark">
            <tr>
              <th>Producto Referencia</th>
              <th>Producto Maestro</th>
              <th>Precio Ref.</th>
              <th>Precio Actual</th>
              <th>Similitud</th>
              <th>Acción</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <h6 class="fw-semibold mt-4 mb-2">Productos Duplicados</h6>
      <div class="table-responsive">
        <table id="tablaDuplicados" class="table table-striped table-bordered align-middle">
          <thead class="table-dark">
            <tr>
              <th>Producto Referencia</th>
              <th>Producto Maestro</th>
              <th>Precio Ref.</th>
              <th>Precio Actual</th>
              <th>Similitud</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      </div>

    </div>
  </div>
</div>

<script defer src="tools/control-precios/control_precios.js"></script>

